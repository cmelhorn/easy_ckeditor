Easy CKEditor Rails plugin
===========================

John Bradley

http://johnmichaelbradley.com/

I am going to leave Gaston's README intact for the most part, obvious changes excepted.


Easy CKEditor Rails plugin
===========================

**Gast&oacute;n Ramos**

ramos.gaston [at] gmail [dot] com

http://gastonramos.wordpress.com/

**Easy CKEditor is a Rails Plugin thats generate a WYSIWYG text editor helper**. This version is a fork of Scott Rutherford [great plugin](http://blog.caronsoftware.com/2007/11/16/Ckeditor-plugin-0-4-2-released) with a [EasyUpload plugin](http://martinezdelizarrondo.com/easyupload/) inlcuded of Alfonso Mart&iacute;nez de Lizarrondo.

This plugin installs the CKeditor editor into your rails app, along with some helpers to use in your views.

Features
========

   * WYSIWYG text editor helper.
   * 2 configurable versions of upload images module (easy and complete).
   * Easy link maker.

Versions
========

This plugin is tested with:

  * Rails 2.3
  * Ruby 1.8.6 Patchlevel 287
  * CKeditor 3.0

Install
=======

If you got this using:

ruby script/plugin install git://github.com/johnmichaelbradley/easy-ckeditor.git

Then the install should of copied all the appropriate files to their homes. If you download a tar then you can either do

  rake ckeditor:install

from the root of your app, or the file will be installed the first time you startup after untaring the plugin.

Uninstall
=========

Then the install should run task:

  rake ckeditor:uninstall

and all the installed files will be removed.

Files
=====

Basically the whole of the CKeditor suite is copied to: public/javascripts/ckeditor

There is a separate config file copied to: public/javascripts/ckcustom.js, that you can use to customize the install. This file is never overriden by upgrades or reinstalls

IMPORTANT
=========

If you are hosting your rails app in a subdirectory you need to open:

  public/javascripts/ckcustom.js

and modify the CKRelativePath = ''; to suite your needs.

For example if I have an app at www.mydomain.com/app/

then the line should read:

  CKRelativePath = '/app';


Usage
=====

Basically include this in the page you wish to use the editor in

  <%= javascript_include_tag :ckeditor %>

Then instead of the normal textarea helper from Rails use this one

  <% = ckeditor_textarea("object", "field", :toolbarSet => 'Simple', :width => '100%', :height => '200px') %>

and for use **Easy toolbar** with **EasyUpload plugin**

 <% = ckeditor_textarea("object", "field", :toolbarSet => 'Easy', :width => '100%', :height => '200px') %>

Thats it unless you are using AJAX

AJAX
====

To use a remote form you need to do something like this

  <%= form_remote_tag :url => @options.merge(:controller => @scaffold_controller),
                    :before => Ckeditor_before_js('note', 'text') %>

    <%= ckeditor_textarea( "note", "text", :ajax => true ) %>

  <%= end_form_tag %>

If you forget to put in the :before it won't work, you can also use the Ckeditor_form_remote_tag described below

Multiple Editors in a form
==========================

To create a form using multiple editors use the Ckeditor_form_remote_tag helper and pass the :editors option. This takes an hash of model symbol keys with each having
an array as its value. The array should contain the list of fields that will have editors attached to them.

  <%= ckeditor_form_remote_tag :url => @options.merge(:controller => @scaffold_controller),
                              :editors => { :multinote => ['text1', 'text2'] } %>

    <%= ckeditor_textarea( "multinote", "text1", :ajax => true ) %>
    <%= ckeditor_textarea( "multinote", "text2", :ajax => true ) %>

  <%= end_form_tag %>

There is also a ckeditor_remote_form_for version.

Spell Check
===========

Basically ensure you have aspell installed and available in your path. If running on Windows then the expected install path is:

  'c:\program files\aspell\bin\aspell'

If you install elsewhere then you will need to update spell_check.rb in the plugin to mirror your path. Also make sure you have this line in your ckcustom.js file:

  CKConfig.SpellChecker = 'SpellerPages';


Contribute
==========

There is a lighthouseapp account if you want to send a patch or report a bug

http://easy_Ckeditor.lighthouseapp.com/projects/27883-easy-Ckeditor/overview

